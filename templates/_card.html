<article class="card fancy" data-open-modal hx-get="{{ url_for('recipe', slug=img.slug) }}" hx-target="#modal-body"
    hx-swap="innerHTML">

    <figure class="thumb">
        <img src="{{ url_for('static', filename='images/' + img.filename) }}" alt="{{ img.title }}" loading="lazy" />
        <span class="shine"></span>

        <figcaption class="overlay overlay-title-only">
            <h3 class="title clamp-2">{{ img.title }}</h3>
        </figcaption>

        <div class="ring"></div>
    </figure>

    <footer class="meta-row">
        <div class="pills">
            {% for t in img.tags[:4] %}
            <a class="pill" hx-get="{{ url_for('home') }}?tag={{ t.slug }}" hx-target="#grid">#{{ t.name }}</a>
            {% endfor %}
        </div>

        <!-- type=button avoids accidental form submits -->
        <button class="like" type="button" data-id="{{ img.id }}"
            data-like-url="{{ url_for('like', image_id=img.id) }}">
            ❤️ <span>{{ img.likes or 0 }}</span>
        </button>
    </footer>

</article>