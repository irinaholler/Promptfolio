<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Promptfolio</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="https://unpkg.com/htmx.org@1.9.12" defer></script>
</head>

<body hx-boost="true">
    <header class="shell header">
        <!-- Wordmark -->
        <a class="logo" href="{{ url_for('home') }}" aria-label="Promptfolio">
            <svg viewBox="0 0 520 80" class="logo-svg">
                <text x="0" y="60" class="stroke">Promptfolio</text>
                <text x="0" y="60" class="fill">Promptfolio</text>
                <linearGradient id="logoGrad" x1="0" x2="1" y1="0" y2="0">
                    <stop offset="0%" stop-color="#8fbfe0" />
                    <stop offset="50%" stop-color="#c8b37c" />
                    <stop offset="100%" stop-color="#c9839b" />
                </linearGradient>
            </svg>
        </a>

        <!-- Search -->
        <form class="search" method="get" action="{{ url_for('home') }}" hx-get="{{ url_for('home') }}"
            hx-target="#grid" hx-push-url="true" hx-trigger="submit, keyup changed delay:350ms from:#q">
            <span class="icon">âŒ˜K</span>
            <input id="q" name="q" type="search" placeholder="Search title, prompt, tagsâ€¦" autocomplete="off" />
            <button type="submit" class="btn ghost" title="Search">Search</button>
            <button type="button" id="voice" class="icon" title="Voice search">ðŸŽ¤</button>
        </form>

        <!-- Shuffle -->
        <a class="btn-shuffle" href="{{ url_for('home', shuffle=1) }}" hx-get="{{ url_for('home', shuffle=1) }}"
            hx-target="#grid" hx-push-url="true" title="Shuffle (random order)">ðŸ”€ Shuffle</a>
    </header>

    <main class="shell">
        <section id="grid">
            {% block grid %}{% include "_cards.html" %}{% endblock %}
        </section>
    </main>

    <!-- Modal -->
    <div id="modal" class="modal hidden" aria-hidden="true">
        <div class="overlay" data-close-modal></div>
        <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1">
            <button class="modal-close" data-close-modal aria-label="Close">âœ•</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- About -->
    <button id="aboutBtn" class="about-pill" aria-haspopup="dialog" title="About">About</button>
    <div id="aboutModal" class="modal hidden">
        <div class="overlay" data-close-modal></div>
        <div class="modal-card modal-panel" role="dialog" aria-modal="true" style="max-width:580px">
            <button class="modal-close" data-close-modal>âœ•</button>
            <h2>About this gallery</h2>
            <p class="dim">
                AI-generated images by Irini. Prompts, seeds and models per image.
                Please ask before commercial reuse â€” attribution appreciated. ðŸ’›
            </p>
            <p class="dim">
                Code: Flask + HTMX Â· Repo:
                <a href="https://github.com/irinaholler/Promptfolio" target="_blank" rel="noreferrer">Promptfolio</a>
            </p>
        </div>
    </div>

    <!-- Back to top -->
    <button class="fab show" id="toTop" data-scroll-top aria-label="Back to top" title="Back to top">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 19V5"></path>
            <path d="M5 12l7-7 7 7"></path>
        </svg>
    </button>

    <script src="{{ url_for('static', filename='script.js') }}" defer></script>

</body>

</html>